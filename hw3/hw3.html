<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Typing game 2.0</title>
</head>

<body>
  <div class="t"> Typing game 2.0</div>
  <div id="char"> Press any key on the keyboard to start the game.</div>
  <script>
    let alp = '';
    var charBox = document.getElementById('char');

    //生成1個字母
    function startGame() {
      //Math.floor():無條件捨去 Math.random():回傳0~1間隨機小數
      let RandomNumber = Math.floor(Math.random() * 26);
      //String.fromCharCode():ASCII傳回相對應的字母
      //'A'的ASCII=65, A~Z的ASCII=65+ 0~25;
      var allAlp = String.fromCharCode(65 + RandomNumber);
      alp = allAlp + alp;
    }

    //生成字母
    var a = true;
    document.addEventListener('keyup', first);
    function first() {
      if (a) {
        setInterval("startGame()", "400");
      }
      a = false;
    }

    //輸入正確
    document.addEventListener('keydown', keyDown);

    function keyDown(e) {
      var last = alp.slice(- 1);
      if (String.fromCharCode(e.keycode - 32) == last || String.fromCharCode(e.keyCode) == last) {
        alp = alp.slice(0, -1);
      }
      char.textContent = alp;
    }
  </script>
</body>

</html>